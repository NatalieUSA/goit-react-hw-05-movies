{"version":3,"file":"static/js/930.c54bd667.chunk.js","mappings":"uQACA,EAAuB,2BAAvB,EAAyD,2B,SCmDzD,EA/CoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,MAMAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,2FACjBF,GAAS,SAAAG,GAAS,yBAAUA,GAAV,IAAqBN,SAAS,EAAMC,MAAO,MAA3C,IADD,mBAGMM,EAAAA,EAAAA,KAHN,OAGTC,EAHS,OAKfL,GAAS,SAAAG,GACP,OAAO,kBAAKA,GAAZ,IAAuBP,MAAM,GAAD,eAAMO,EAAUP,QAAhB,OAA0BS,KACvD,IAPc,gDASfL,GAAS,SAAAG,GAAS,yBAAUA,GAAV,IAAqBL,MAAK,MAA1B,IATH,yBAWfE,GAAS,SAAAG,GACP,OAAO,kBAAKA,GAAZ,IAAuBN,SAAS,GACjC,IAbc,4EAAH,qDAgBhBK,GACD,GAAE,CAACF,IAEJ,IAAQJ,EAA0BG,EAA1BH,MAAOC,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MAGlBQ,EAAWV,EAAMW,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACzB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,UAAWC,EAAtC,SACGH,KAFID,EADgB,IAO3B,OACE,4BACE,eAAIG,UAAWC,EAAf,SAA6BN,IAE5BT,IAAW,yCACXC,IAAS,qEAGf,ECtCD,EAViB,WACf,OACE,4BACE,kCACA,qCACA,SAAC,EAAD,MAGL,C,4GCRKe,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGEX,EAAgB,mCAAG,wIAAc,EAAd,SACPS,EAASG,IAC9B,gFAF4B,uBACtBC,EADsB,EACtBA,KADsB,kBAIvBA,EAAKC,SAJkB,2CAAH,qDAahBC,EAAe,mCAAG,WAAMX,GAAN,uFACNK,EAASG,IAAT,iBACXR,EADW,6DADM,cACvBY,EADuB,yBAItBA,EAASH,MAJa,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/modules/TrendMovies/trend-movies.module.css?fc25","components/modules/TrendMovies/TrendMovies.jsx","components/pages/HomePage/HomePage.jsx","components/shared/api/api-movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"trend-movies_list__VrKi2\",\"link\":\"trend-movies_link__LHLyN\"};","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getTrendingMovie } from './../../shared/api/api-movie';\nimport styles from './trend-movies.module.css';\n\nconst TrendMovies = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      setState(prevState => ({ ...prevState, loading: true, error: null }));\n      try {\n        const result = await getTrendingMovie();\n        // console.log(result.id);\n        setState(prevState => {\n          return { ...prevState, items: [...prevState.items, ...result] };\n        });\n      } catch (error) {\n        setState(prevState => ({ ...prevState, error }));\n      } finally {\n        setState(prevState => {\n          return { ...prevState, loading: false };\n        });\n      }\n    };\n    fetchPosts();\n  }, [setState]);\n\n  const { items, loading, error } = state;\n  //   console.log(items);\n\n  const elements = items.map(({ id, title }) => (\n    <li key={id}>\n      <Link to={`/movies/${id}`} className={styles.link}>\n        {title}\n      </Link>\n    </li>\n  ));\n  return (\n    <div>\n      <ol className={styles.list}>{elements}</ol>\n\n      {loading && <p>...load posts</p>}\n      {error && <p>...error load posts...posts load failed</p>}\n    </div>\n  );\n};\n\nexport default TrendMovies;\n// {\n//   /* <Link to={`/movies/${id}`}>{title}</Link> */\n// }\n","import TrendMovies from 'components/modules/TrendMovies/TrendMovies';\n\nconst HomePage = () => {\n  return (\n    <div>\n      <h2>Home</h2>\n      <p>HomePage</p>\n      <TrendMovies />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrendingMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/week?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n  );\n  return data.results;\n};\n\n// export const getMovieDetails = async movieId => {\n//   const response = await instance.get(\n//     '/movie/`${movieId}`?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n//   );\n//   return response.data;\n// };\nexport const getMovieDetails = async id => {\n  const response = await instance.get(\n    `/movie/${id}?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return response.data;\n};\n"],"names":["useState","items","loading","error","state","setState","useEffect","fetchPosts","prevState","getTrendingMovie","result","elements","map","id","title","to","className","styles","instance","axios","baseURL","get","data","results","getMovieDetails","response"],"sourceRoot":""}