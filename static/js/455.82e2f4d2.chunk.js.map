{"version":3,"file":"static/js/455.82e2f4d2.chunk.js","mappings":"uQACA,EAAyB,mCAAzB,EAAmE,iCAAnE,EAA2G,iCAA3G,EAAqJ,mCAArJ,EAA+L,iCAA/L,EAAyO,mCAAzO,EAAuR,qCAAvR,EAAmU,iCAAnU,EAA2W,iC,kBCkG3W,EA3FyB,WAAO,IAAD,IAC7B,GAAwBA,EAAAA,EAAAA,UAAS,CAAC,GAAlC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,2FACjBN,GAAW,GACXE,EAAS,MAFQ,mBAKMK,EAAAA,EAAAA,IAAgBJ,GALtB,OAKTK,EALS,OAOfV,EAAQU,GAPO,gDASfN,EAAS,KAAMO,SATA,2CAWRT,GAAW,IAXH,+DAAH,qDAchBM,GACD,GAAE,CAACH,IAEJ,IAAMO,GAAWC,EAAAA,EAAAA,MAGXC,GAAmBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAMxD,OACE,gCACGd,IAAS,yDAAiCA,KAC1CF,IAAW,SAACiB,EAAA,EAAD,KAEZ,iBAAKC,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAIP,EAAiBQ,QAASH,UAAWC,EAA/C,UACE,yCAGF,0BACE,gBACED,UAAWC,EACXG,IACM,OAAJxB,QAAI,IAAJA,GAAAA,EAAMyB,YAAN,yCACsCzB,EAAKyB,aACvCC,EAENC,IAAK3B,EAAK4B,WAId,gBAAKR,UAAWC,EAAhB,UACE,4BACE,wBAAKrB,EAAK4B,SACV,6BAAK5B,EAAK6B,iBAEV,kCACO,4BAAOC,KAAKC,KAAyB,IAApB/B,EAAKgC,cAAsB,GAA5C,WAEP,eAAGZ,UAAWC,EAAd,oBAEGrB,EAAKiC,QACJjC,EAAKiC,OAAOC,KAAI,SAAAC,GAAK,OACnB,0BAAsBA,EAAMC,MAAjBD,EAAME,GADE,aAM7B,gBAAKjB,UAAWC,EAAhB,UACE,uCAAerB,EAAKsC,kBAGxB,gBAAIlB,UAAWC,EAAf,WACE,SAAC,KAAD,CAAMC,GAAE,kBAAahB,EAAb,SAA6Bc,UAAWC,EAAhD,qBAGA,SAAC,KAAD,CAAMC,GAAE,kBAAahB,EAAb,YAAgCc,UAAWC,EAAnD,yBAIF,SAAC,KAAD,SAIP,C,sLChGKkB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAgB,mCAAG,wIAAc,EAAd,SACPH,EAASI,IAC9B,gFAF4B,uBACtBC,EADsB,EACtBA,KADsB,kBAIvBA,EAAKC,SAJkB,2CAAH,qDAOhBnC,EAAe,mCAAG,WAAMJ,GAAN,uFACNiC,EAASI,IAAT,iBACXrC,EADW,6DADM,cACvBwC,EADuB,yBAItBA,EAASF,MAJa,2CAAH,sDAOfG,EAAO,mCAAG,WAAMzC,GAAN,yFACEiC,EAASI,IAAT,iBACXrC,EADW,sEADF,uBACbsC,EADa,EACbA,KADa,kBAIdA,EAAKI,MAJS,2CAAH,sDAOPC,EAAS,mCAAG,WAAM3C,GAAN,yFACAiC,EAASI,IAAT,iBACXrC,EADW,qEADA,uBACfsC,EADe,EACfA,KADe,kBAIhBA,EAAKC,SAJW,2CAAH,sDAOTK,EAAc,mCAAG,WAAMC,GAAN,yFACLZ,EAASI,IAAT,8BACEQ,EADF,oEADK,uBACpBP,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,qD","sources":["webpack://react-homework-template/./src/Pages/MovieDetailsPage/movie-details-page.module.css?0e70","Pages/MovieDetailsPage/MovieDetailsPage.jsx","components/shared/api/api-movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wraper\":\"movie-details-page_wraper__QqsBt\",\"wrap\":\"movie-details-page_wrap__m-XJQ\",\"back\":\"movie-details-page_back__PBT+E\",\"poster\":\"movie-details-page_poster__+KI4Q\",\"text\":\"movie-details-page_text__40WE8\",\"genres\":\"movie-details-page_genres__RokpN\",\"overview\":\"movie-details-page_overview__+xkpS\",\"page\":\"movie-details-page_page__7AsDB\",\"link\":\"movie-details-page_link__VInIe\"};","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport { getMovieDetails } from 'components/shared/api/api-movie';\nimport { Loader } from 'components/shared/Loader/Loader';\n\nimport styles from './movie-details-page.module.css';\nimport defaultimage from './dfi.jpg';\n\nconst MovieDetailsPage = () => {\n  const [item, setItem] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const result = await getMovieDetails(movieId);\n        // console.log(result);\n        setItem(result);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        return setLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [movieId]);\n\n  const location = useLocation();\n  // console.log(location);\n  // const from = location.state?.from || '/';\n  const backLinkLocation = useRef(location.state?.from ?? '/movies');\n  // console.log(backLinkLocation);\n\n  // const navigate = useNavigate();\n  // const goBack = () => navigate(from);\n\n  return (\n    <>\n      {error && <p>...error load ...load failed {error}</p>}\n      {loading && <Loader />}\n\n      <div className={styles.wraper}>\n        <div className={styles.wrap}>\n          <Link to={backLinkLocation.current} className={styles.back}>\n            <span>GO BACK</span>\n          </Link>\n\n          <div>\n            <img\n              className={styles.poster}\n              src={\n                item?.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                  : defaultimage\n              }\n              alt={item.title}\n            />\n          </div>\n\n          <div className={styles.text}>\n            <div>\n              <h2>{item.title}</h2>\n              <p> {item.release_date}</p>\n\n              <p>\n                Vote <span>{Math.ceil(item.vote_average * 100) / 10}%</span>\n              </p>\n              <p className={styles.genres}>\n                Genres:\n                {item.genres &&\n                  item.genres.map(genre => (\n                    <span key={genre.id}>{genre.name}</span>\n                  ))}\n              </p>\n            </div>\n          </div>\n          <div className={styles.overview}>\n            <h5>Overview: {item.overview}</h5>\n          </div>\n        </div>\n        <ul className={styles.page}>\n          <Link to={`/movies/${movieId}/cast`} className={styles.link}>\n            Actors\n          </Link>\n          <Link to={`/movies/${movieId}/reviews`} className={styles.link}>\n            Reviews\n          </Link>\n        </ul>\n        <Outlet />\n      </div>\n    </>\n  );\n};\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrendingMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/week?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await instance.get(\n    `/movie/${movieId}?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}}/credits?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}/reviews?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.results;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(\n    `/search/movie?query=${query}&api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US&page=1`\n  );\n  return data;\n};\n"],"names":["useState","item","setItem","loading","setLoading","error","setError","movieId","useParams","useEffect","fetchMovie","getMovieDetails","result","message","location","useLocation","backLinkLocation","useRef","state","from","Loader","className","styles","to","current","src","poster_path","defaultimage","alt","title","release_date","Math","ceil","vote_average","genres","map","genre","name","id","overview","instance","axios","baseURL","getTrendingMovie","get","data","results","response","getCast","cast","getReview","getSearchMovie","query"],"sourceRoot":""}