{"version":3,"file":"static/js/131.65a85983.chunk.js","mappings":"+PACA,GAAgB,KAAO,4B,SC+CvB,EA1CoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,KAOQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,2FAClBJ,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBR,SAAS,EAAMC,MAAO,MAA3C,IADA,mBAGGQ,EAAAA,EAAAA,IAAUL,GAHb,OAGVM,EAHU,OAIhBC,QAAQC,IAAIF,GACZP,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBT,MAAOW,GAA5B,IALF,gDAOhBP,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBP,MAAK,MAA1B,IAPF,yBAShBE,GAAS,SAAAK,GACP,OAAO,kBAAKA,GAAZ,IAAuBR,SAAS,GACjC,IAXe,4EAAH,qDAcjBO,GACD,GAAE,CAACJ,EAAUC,IAEd,IAAQL,EAAUG,EAAVH,MACFc,EAAWd,EAAMe,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACzB,2BACE,qCAAaD,MACb,uBAAIC,MAFGF,EADgB,IAM3B,OACE,iBAAKG,UAAWC,EAAAA,KAAhB,WACE,4CAAoBpB,EAAMqB,OAA1B,QACA,eAAIF,UAAWC,EAAAA,KAAf,SAA6BN,MAGlC,C,sLC7CKQ,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAgB,mCAAG,wIAAc,EAAd,SACPH,EAASI,IAC9B,gFAF4B,uBACtBf,EADsB,EACtBA,KADsB,kBAIvBA,EAAKgB,SAJkB,2CAAH,qDAOhBC,EAAe,mCAAG,WAAMvB,GAAN,uFACNiB,EAASI,IAAT,iBACXrB,EADW,6DADM,cACvBwB,EADuB,yBAItBA,EAASlB,MAJa,2CAAH,sDAOfmB,EAAO,mCAAG,WAAMzB,GAAN,yFACEiB,EAASI,IAAT,iBACXrB,EADW,sEADF,uBACbM,EADa,EACbA,KADa,kBAIdA,EAAKoB,MAJS,2CAAH,sDAOPrB,EAAS,mCAAG,WAAML,GAAN,yFACAiB,EAASI,IAAT,iBACXrB,EADW,qEADA,uBACfM,EADe,EACfA,KADe,kBAIhBA,EAAKgB,SAJW,2CAAH,sDAOTK,EAAc,mCAAG,WAAMC,GAAN,yFACLX,EAASI,IAAT,8BACEO,EADF,oEADK,uBACpBtB,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/pages/ReviewsPage/reviews-page.module.css?1f3c","components/pages/ReviewsPage/ReviewsPage.jsx","components/shared/api/api-movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"reviews-page_wrap__cYY9z\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getReview } from 'components/shared/api/api-movie';\nimport PropTypes from 'prop-types';\nimport styles from './reviews-page.module.css';\n\nconst ReviewsPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  // const { movieId } = useParams();\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchReview = async () => {\n      setState(prevState => ({ ...prevState, loading: true, error: null }));\n      try {\n        const data = await getReview(movieId);\n        console.log(data);\n        setState(prevState => ({ ...prevState, items: data }));\n      } catch (error) {\n        setState(prevState => ({ ...prevState, error }));\n      } finally {\n        setState(prevState => {\n          return { ...prevState, loading: false };\n        });\n      }\n    };\n    fetchReview();\n  }, [setState, movieId]);\n\n  const { items } = state;\n  const elements = items.map(({ id, author, content }) => (\n    <li key={id}>\n      <h4>Author: {author}</h4>\n      <p>{content}</p>\n    </li>\n  ));\n  return (\n    <div className={styles.wrap}>\n      <h2>Total reviews: {items.length} </h2>\n      <ol className={styles.list}>{elements}</ol>\n    </div>\n  );\n};\nexport default ReviewsPage;\n\nReviewsPage.propTypes = {\n  movieId: PropTypes.string,\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrendingMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/week?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await instance.get(\n    `/movie/${movieId}?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}}/credits?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}/reviews?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.results;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(\n    `/search/movie?query=${query}&api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US&page=1`\n  );\n  return data;\n};\n"],"names":["useState","items","loading","error","state","setState","movieId","useParams","useEffect","fetchReview","prevState","getReview","data","console","log","elements","map","id","author","content","className","styles","length","instance","axios","baseURL","getTrendingMovie","get","results","getMovieDetails","response","getCast","cast","getSearchMovie","query"],"sourceRoot":""}