{"version":3,"file":"static/js/2.ef9009d6.chunk.js","mappings":"oQACA,EAA0B,2BAA1B,EAA4D,wB,SC6D5D,EAvDiB,WACf,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,KAMQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,2FAChBJ,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBR,SAAS,EAAMC,MAAO,MAA3C,IADF,mBAGOQ,EAAAA,EAAAA,IAAQL,GAHf,OAGRM,EAHQ,OAIdC,QAAQC,IAAIF,GACZP,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBT,MAAOW,GAA5B,IALJ,gDAOdP,GAAS,SAAAK,GAAS,yBAAUA,GAAV,IAAqBP,MAAK,MAA1B,IAPJ,yBASdE,GAAS,SAAAK,GACP,OAAO,kBAAKA,GAAZ,IAAuBR,SAAS,GACjC,IAXa,4EAAH,qDAcfO,GACD,GAAE,CAACJ,EAAUC,IAEd,IAAQL,EAAUG,EAAVH,MAIR,OAHAY,QAAQC,IAAIb,IAIV,gBAAKc,UAAWC,EAAhB,SACGf,EAAMgB,OAAS,GACdhB,EAAMiB,KAAI,SAAAC,GAAI,OACZ,gBAEEJ,UAAWC,EACXI,IACM,OAAJD,QAAI,IAAJA,GAAAA,EAAME,aAAN,yCACsCF,EAAKE,cACvCC,EAENC,IAAG,gBAAWJ,EAAKK,OAPdlB,EAFK,KAoBrB,C,8JC3DKmB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAgB,mCAAG,wIAAc,EAAd,SACPH,EAASI,IAC9B,gFAF4B,uBACtBC,EADsB,EACtBA,KADsB,kBAIvBA,EAAKC,SAJkB,2CAAH,qDAOhBC,EAAe,mCAAG,WAAM1B,GAAN,uFACNmB,EAASI,IAAT,iBACXvB,EADW,6DADM,cACvB2B,EADuB,yBAItBA,EAASH,MAJa,2CAAH,sDAOfnB,EAAO,mCAAG,WAAML,GAAN,yFACEmB,EAASI,IAAT,iBACXvB,EADW,sEADF,uBACbwB,EADa,EACbA,KADa,kBAIdA,EAAKI,MAJS,2CAAH,sDAOPC,EAAS,mCAAG,WAAM7B,GAAN,yFACAmB,EAASI,IAAT,iBACXvB,EADW,qEADA,uBACfwB,EADe,EACfA,KADe,kBAIhBA,EAAKC,SAJW,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/pages/CastPage/cast-page.module.css?a6c8","components/pages/CastPage/CastPage.jsx","components/shared/api/api-movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"imgwrap\":\"cast-page_imgwrap__tqHNB\",\"cast\":\"cast-page_cast__crzuC\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getCast } from 'components/shared/api/api-movie';\nimport defaultimage from './dfi.jpg';\n\nimport styles from './cast-page.module.css';\n\nconst CastPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchCast = async () => {\n      setState(prevState => ({ ...prevState, loading: true, error: null }));\n      try {\n        const result = await getCast(movieId);\n        console.log(result);\n        setState(prevState => ({ ...prevState, items: result }));\n      } catch (error) {\n        setState(prevState => ({ ...prevState, error }));\n      } finally {\n        setState(prevState => {\n          return { ...prevState, loading: false };\n        });\n      }\n    };\n    fetchCast();\n  }, [setState, movieId]);\n\n  const { items } = state;\n  console.log(items);\n  // console.log(items.cast);\n\n  return (\n    <div className={styles.imgwrap}>\n      {items.length > 0 &&\n        items.map(item => (\n          <img\n            key={movieId}\n            className={styles.cast}\n            src={\n              item?.profile_path\n                ? `https://image.tmdb.org/t/p/w500${item.profile_path}`\n                : defaultimage\n            }\n            alt={`actor ${item.name}`}\n          />\n        ))}\n    </div>\n\n    // <div>\n    //   <button>Go back</button>\n    //   <h1>CastPage</h1>\n\n    // </div>\n  );\n};\nexport default CastPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrendingMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/week?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await instance.get(\n    `/movie/${movieId}?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}}/credits?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}/reviews?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.results;\n};\n"],"names":["useState","items","loading","error","state","setState","movieId","useParams","useEffect","fetchCast","prevState","getCast","result","console","log","className","styles","length","map","item","src","profile_path","defaultimage","alt","name","instance","axios","baseURL","getTrendingMovie","get","data","results","getMovieDetails","response","cast","getReview"],"sourceRoot":""}