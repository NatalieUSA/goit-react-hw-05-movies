{"version":3,"file":"static/js/298.33976c3f.chunk.js","mappings":"+PACA,EAA0B,2BAA1B,EAA4D,wBAA5D,EAA2H,yB,kBCsD3H,EA9CiB,WACf,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAoBR,OAlBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,2FAChBN,GAAW,GACXE,EAAS,MAFO,mBAKOK,EAAAA,EAAAA,IAAQJ,GALf,OAKRK,EALQ,OAOdV,EAASU,GAPK,gDASdN,EAAS,KAAMO,SATD,2CAWPT,GAAW,IAXJ,+DAAH,qDAcfM,GACD,GAAE,CAACH,KAGF,iBAAKO,UAAWC,EAAhB,WACE,gBAAID,UAAWC,EAAf,2BAA4Cd,EAAMe,OAAlD,OACCf,EAAMe,OAAS,GACdf,EAAMgB,KAAI,SAAAC,GAAI,OACZ,gBAEEJ,UAAWC,EACXI,IACM,OAAJD,QAAI,IAAJA,GAAAA,EAAME,aAAN,yCACsCF,EAAKE,cACvCC,EAENC,IAAG,gBAAWJ,EAAKK,OAPdhB,EAFK,IAYfJ,IAAW,SAACqB,EAAA,EAAD,IACXnB,IAAS,sEAA8CA,OAG7D,C,sLCpDKoB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAgB,mCAAG,wIAAc,EAAd,SACPH,EAASI,IAC9B,gFAF4B,uBACtBC,EADsB,EACtBA,KADsB,kBAIvBA,EAAKC,SAJkB,2CAAH,qDAOhBC,EAAe,mCAAG,WAAMzB,GAAN,uFACNkB,EAASI,IAAT,iBACXtB,EADW,6DADM,cACvB0B,EADuB,yBAItBA,EAASH,MAJa,2CAAH,sDAOfnB,EAAO,mCAAG,WAAMJ,GAAN,yFACEkB,EAASI,IAAT,iBACXtB,EADW,sEADF,uBACbuB,EADa,EACbA,KADa,kBAIdA,EAAKI,MAJS,2CAAH,sDAOPC,EAAS,mCAAG,WAAM5B,GAAN,yFACAkB,EAASI,IAAT,iBACXtB,EADW,qEADA,uBACfuB,EADe,EACfA,KADe,kBAIhBA,EAAKC,SAJW,2CAAH,sDAOTK,EAAc,mCAAG,WAAMC,GAAN,yFACLZ,EAASI,IAAT,8BACEQ,EADF,oEADK,uBACpBP,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,qD","sources":["webpack://react-homework-template/./src/Pages/CastPage/cast-page.module.css?503d","Pages/CastPage/CastPage.jsx","components/shared/api/api-movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"imgwrap\":\"cast-page_imgwrap__OAhqg\",\"cast\":\"cast-page_cast__v8JAp\",\"info\":\"cast-page_info__apLbS\",\"total\":\"cast-page_total__yGvcO\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getCast } from 'components/shared/api/api-movie';\nimport defaultimage from './dfi.jpg';\n\nimport styles from './cast-page.module.css';\nimport { Loader } from 'components/shared/Loader/Loader';\n\nconst CastPage = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchCast = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const result = await getCast(movieId);\n        // console.log(result);\n        setItems(result);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        return setLoading(false);\n      }\n    };\n    fetchCast();\n  }, [movieId]);\n\n  return (\n    <div className={styles.imgwrap}>\n      <h2 className={styles.total}>Total actors: {items.length} </h2>\n      {items.length > 0 &&\n        items.map(item => (\n          <img\n            key={movieId}\n            className={styles.cast}\n            src={\n              item?.profile_path\n                ? `https://image.tmdb.org/t/p/w500${item.profile_path}`\n                : defaultimage\n            }\n            alt={`actor ${item.name}`}\n          />\n        ))}\n      {loading && <Loader />}\n      {error && <p>...error load actors...actors load failed {error}</p>}\n    </div>\n  );\n};\nexport default CastPage;\n\nCastPage.propTypes = {\n  movieId: PropTypes.string,\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrendingMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/week?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US'\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await instance.get(\n    `/movie/${movieId}?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}}/credits?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await instance.get(\n    `/movie/${movieId}/reviews?api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US`\n  );\n  return data.results;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(\n    `/search/movie?query=${query}&api_key=f7a41df070de2591b426f4643d7fd0fb&language=en-US&page=1`\n  );\n  return data;\n};\n"],"names":["useState","items","setItems","loading","setLoading","error","setError","movieId","useParams","useEffect","fetchCast","getCast","result","message","className","styles","length","map","item","src","profile_path","defaultimage","alt","name","Loader","instance","axios","baseURL","getTrendingMovie","get","data","results","getMovieDetails","response","cast","getReview","getSearchMovie","query"],"sourceRoot":""}